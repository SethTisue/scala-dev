## Scala 2.13.4

Scala 2.13.4 has:

* ?
* ??
* ???
* bugfixes and more

### Concurrency

* Revert ExecutionContext.global to not be a BatchingExecutor https://github.com/scala/scala/pull/9270
  * Introduce ExecutionContext.opportunistic for use in apps https://github.com/scala/scala/pull/9296

("Does the user even care about this change?  If it does, what should they do.  Leave the "what" to the PR
description/scaladoc.")

**NOTE** This is a change in operational behaviour.
Going back to the 2.12 behaviour
If you use scala.concurrent, for example Future, ...
Akka is unaffected

TODO: copy guideance from the docs

### Pattern matching

* Check exhaustivity of pattern matches with "if" guards and custom extractors (by default) and of unsealed types (by opt-in) https://github.com/scala/scala/pull/9140 (default switch <https://github.com/scala/scala/pull/9299>)

Greatly increases ...

bullets of the subparts
* guards
* extractors
* unsealed under option
* private treated as "effectively sealed" https://github.com/scala/scala/pull/9211
* singleton types https://github.com/scala/scala/pull/9209
* redefined case class unapply methods https://github.com/scala/scala/pull/9162

How to disable it / how to enable it
@unchecked, -Wconf

### Scala 3 interop

* Add the Tasty Reader https://github.com/scala/scala/pull/9109 (behind `-Ytasty-reader` <https://github.com/scala/scala/pull/9293>)

Pull language from Jamie's blog post.  Link to it.
Allows 3 to use libraries built by Scala 3.
2 big caveats:
* still new, must be explicitly enabled (b/c it is new)
* restricted Scala 3 feature set

### Standard library changes

* Make the CharSequence wrappers in Predef non-implicit, for JDK 15 https://github.com/scala/scala/pull/9292
* Make LazyList.cons.apply lazier https://github.com/scala/scala/pull/9095
* Make MapView#values return a View https://github.com/scala/scala/pull/9090
* Make ListBuffer's iterator fail-fast https://github.com/scala/scala/pull/9174
* Un-deprecate useful StringOps operations https://github.com/scala/scala/pull/9246

### Compiler changes

* Enable range positions (`-Yrangepos`) by default https://github.com/scala/scala/pull/9146
    this mainly affects users of Scalameta SemanticDB, which previously required adding `-Yrangepos` to
    `scalacOptions` (continuing to supply the flag, for example when cross-building to 2.12, is harmless.)
* Allow using `classOf` with object type (e.g. `classOf[Foo.type]`) https://github.com/scala/scala/pull/9279
* Fix back-quoted constructor params with identical prefixes https://github.com/scala/scala/pull/9008

## Compatibility

As usual for our minor releases, Scala 2.13.4 is binary-compatible with the whole Scala 2.13 series.

Upgrading from 2.12? Enable `-Xmigration` while upgrading to request migration advice from the compiler.

## Contributors

A big thank you to everyone who's helped improve Scala by reporting bugs, improving our documentation, spreading kindness in discussions around Scala, and submitting and reviewing pull requests! You are all magnificent.

This release was brought to you by ?? contributors, according to `git shortlog -sn --no-merges HEAD ^v2.13.3 ^2.12.x`. Thank you ?, ??, ???.

Thanks to [Lightbend](https://www.lightbend.com/scala) for their continued sponsorship of the Scala core teamâ€™s efforts. Lightbend offers [commercial support](https://www.lightbend.com/lightbend-platform-subscription) for Scala.

## Scala 2.13 notes

The [release notes for Scala 2.13.0](https://github.com/scala/scala/releases/v2.13.0) have important information applicable to the whole 2.13 series.

## Obtaining Scala

Scala releases are available through a variety of channels, including (but not limited to):

* Bump the `scalaVersion` setting in your sbt-based project
* Download a distribution from [scala-lang.org](http://scala-lang.org/download/2.13.4.html)
* Obtain JARs via [Maven Central](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.scala-lang%22%20AND%20v%3A%222.13.4%22)
